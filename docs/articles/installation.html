<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Install the Azure ML SDK for R • azuremlsdk</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Install the Azure ML SDK for R">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">azuremlsdk</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.10.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/installation.html">Install the Azure ML SDK for R</a>
    </li>
    <li>
      <a href="../articles/configuration.html">Set up an Azure ML workspace</a>
    </li>
    <li>
      <a href="../articles/train-and-deploy-first-model.html">Train and deploy your first model with Azure ML</a>
    </li>
    <li>
      <a href="../articles/train-with-tensorflow.html">Train a TensorFlow model</a>
    </li>
    <li>
      <a href="../articles/hyperparameter-tune-with-keras.html">Hyperparameter tune a Keras model</a>
    </li>
    <li>
      <a href="../articles/deploy-to-aks.html">Deploy a web service to Azure Kubernetes Service</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Guides</li>
    <li>
      <a href="../articles/building-custom-docker-images.html">Building custom Docker images for training and deployment</a>
    </li>
    <li>
      <a href="../articles/deploying-models.html">Deploying models</a>
    </li>
    <li>
      <a href="../articles/troubleshooting.html">Troubleshooting</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/azure/azureml-sdk-for-r">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Install the Azure ML SDK for R</h1>
            
            <h4 class="date">2020-09-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/azure/azureml-sdk-for-r/blob/master/vignettes/installation.Rmd"><code>vignettes/installation.Rmd</code></a></small>
      <div class="hidden name"><code>installation.Rmd</code></div>

    </div>

    
    
<p>This article covers the step-by-step instructions for installing the Azure ML SDK for R.</p>
<p>You do not need run this if you are working on an Azure Machine Learning Compute Instance, as the compute instance already has the Azure ML SDK preinstalled.</p>
<div id="install-conda" class="section level2">
<h2 class="hasAnchor">
<a href="#install-conda" class="anchor"></a>Install Conda</h2>
<p>If you do not have Conda already installed on your machine, you will first need to install it, since the Azure ML R SDK uses <strong>reticulate</strong> to bind to the Python SDK. We recommend installing <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a>, which is a smaller, lightweight version of Anaconda. Choose the 64-bit binary for Python 3.5 or later.</p>
</div>
<div id="install-the-azuremlsdk-r-package" class="section level2">
<h2 class="hasAnchor">
<a href="#install-the-azuremlsdk-r-package" class="anchor"></a>Install the <strong>azuremlsdk</strong> R package</h2>
<p>The stable release of the Azure ML SDK can be installed from CRAN or the development version can be installed from GitHub. You will need <strong>remotes</strong> to install the <strong>azuremlsdk</strong> package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">'remotes'</span>)</a></code></pre></div>
<p>Then, you can use the <code>install_github</code> or <code>install_cran</code> functions to install the package.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_github.html">install_github</a></span>(<span class="st">'https://github.com/Azure/azureml-sdk-for-r'</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_cran.html">install_cran</a></span>(<span class="st">'azuremlsdk'</span>, <span class="dt">repos =</span> <span class="st">'https://cloud.r-project.org/'</span>)</a></code></pre></div>
<p>If you are using R installed from CRAN, which comes with 32-bit and 64-bit binaries, you may need to specify the parameter <code>INSTALL_opts=c("--no-multiarch")</code> to only build for the current 64-bit architecture.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_cran.html">install_cran</a></span>(<span class="st">'azuremlsdk'</span>, <span class="dt">repos =</span> <span class="st">'https://cloud.r-project.org/'</span>, <span class="dt">INSTALL_opts=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"--no-multiarch"</span>))</a></code></pre></div>
</div>
<div id="install-the-azure-ml-python-sdk" class="section level2">
<h2 class="hasAnchor">
<a href="#install-the-azure-ml-python-sdk" class="anchor"></a>Install the Azure ML Python SDK</h2>
<p>Lastly, use the <strong>azuremlsdk</strong> R library to install the <a href="https://pypi.org/project/azureml-sdk/">latest version of the Python SDK</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">azuremlsdk<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/azuremlsdk/man/install_azureml.html">install_azureml</a></span>()</a></code></pre></div>
<p>By default, <code><a href="https://rdrr.io/pkg/azuremlsdk/man/install_azureml.html">install_azureml()</a></code> creates a conda environment called ‘r-reticulate’, installs the Python SDK in that environment, and restarts the R session after installation (if running in RStudio). If you would like to override the default version of the Python SDK, the environment name, or the Python version, you can pass in those arguments. If you would like to delete the conda environment if it already exists and create a new environment, or not restart the R session after installation, you can also do so:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">azuremlsdk<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/azuremlsdk/man/install_azureml.html">install_azureml</a></span>(<span class="dt">version =</span> <span class="ot">NULL</span>, </a>
<a class="sourceLine" id="cb5-2" data-line-number="2">                            <span class="dt">envname =</span> <span class="st">"&lt;your conda environment name&gt;"</span>,</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">                            <span class="dt">conda_python_version =</span> <span class="st">"&lt;desired python version&gt;"</span>,</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">                            <span class="dt">restart_session =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">                            <span class="dt">remove_existing_env =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="test-installation" class="section level2">
<h2 class="hasAnchor">
<a href="#test-installation" class="anchor"></a>Test installation</h2>
<p>You can confirm your installation worked by loading the library and successfully retrieving a run.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(azuremlsdk)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/pkg/azuremlsdk/man/get_current_run.html">get_current_run</a></span>()</a></code></pre></div>
</div>
<div id="troubleshooting" class="section level2">
<h2 class="hasAnchor">
<a href="#troubleshooting" class="anchor"></a>Troubleshooting</h2>
<ul>
<li>
<p>If you’re using the compute instance, the first time you run <code><a href="https://rdrr.io/r/base/library.html">library(azuremlsdk)</a></code> you may run into the following prompt:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(azuremlsdk)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">No non<span class="op">-</span>system installation of Python could be found.</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">Would you like to download and install Miniconda?</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">Miniconda is an open source environment management system <span class="cf">for</span> Python.</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">See https<span class="op">:</span><span class="er">//</span>docs.conda.io<span class="op">/</span>en<span class="op">/</span>latest<span class="op">/</span>miniconda.html <span class="cf">for</span> more details.</a></code></pre></div>
<p>This is the reticulate package prompting the user if they want to have Miniconda installed (see <a href="https://github.com/rstudio/reticulate/issues/607">GitHub issue</a>). Since the compute instance already has Anaconda, you can just respond “N” to the prompt. You will receive the message “Installation aborted”, which just means that Miniconda won’t be installed. You will only be prompted for this once for each new compute instance you spin up.</p>
</li>
<li><p>In step 3 of the installation, if you get ssl errors on windows, it is due to an outdated openssl binary. Install the latest openssl binaries from <a href="https://wiki.openssl.org/index.php/Binaries">here</a>.</p></li>
<li>
<p>If installation fails due to this error:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">Error <span class="cf">in</span> <span class="kw"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span>(xx, f, <span class="dt">tz =</span> tz) <span class="op">:</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span>(converted from warning) unable to identify current timezone <span class="st">'C'</span><span class="op">:</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">please set environment variable <span class="st">'TZ'</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">In R CMD INSTALL</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">Error <span class="cf">in</span> <span class="kw">i.p</span>(...) <span class="op">:</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="st">  </span>(converted from warning) installation of package ‘C<span class="op">:</span><span class="er">/</span>...<span class="op">/</span>azureml_<span class="dv">0</span>.<span class="dv">4</span>.<span class="fl">0.</span>tar.gz’ had non<span class="op">-</span>zero exit</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  status</a></code></pre></div>
<p>You will need to set your time zone environment variable to GMT and restart the installation process.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span>(<span class="dt">TZ=</span><span class="st">'GMT'</span>)</a></code></pre></div>
</li>
<li>
<p>If the following permission error occurs while installing in RStudio, change your RStudio session to administrator mode, and re-run the installation command.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">Downloading GitHub repo Azure<span class="op">/</span>azureml<span class="op">-</span>sdk<span class="op">-</span><span class="cf">for</span><span class="op">-</span>r<span class="op">@</span>master</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">Skipping <span class="dv">2</span> packages ahead of CRAN<span class="op">:</span><span class="st"> </span>reticulate, rlang</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">Running <span class="st">`</span><span class="dt">R CMD build</span><span class="st">`</span>...</a>
<a class="sourceLine" id="cb10-4" data-line-number="4"></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">Error<span class="op">:</span><span class="st"> </span>(converted from warning) invalid package</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="st">'C:/.../file2b441bf23631'</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7">In R CMD INSTALL</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">Error <span class="cf">in</span> <span class="kw">i.p</span>(...) <span class="op">:</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="st">  </span>(converted from warning) installation of package</a>
<a class="sourceLine" id="cb10-10" data-line-number="10">  ‘C<span class="op">:</span><span class="er">/</span>...<span class="op">/</span>file2b441bf23631’ had non<span class="op">-</span>zero exit status</a>
<a class="sourceLine" id="cb10-11" data-line-number="11">In addition<span class="op">:</span><span class="st"> </span>Warning messages<span class="op">:</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="dv">1</span><span class="op">:</span><span class="st"> </span>In <span class="kw"><a href="https://rdrr.io/r/base/connections.html">file</a></span>(con, <span class="st">"r"</span>) <span class="op">:</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="st">  </span>cannot open file <span class="st">'C:...</span><span class="ch">\f</span><span class="st">ile2b44144a540f'</span><span class="op">:</span><span class="st"> </span>Permission denied</a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="dv">2</span><span class="op">:</span><span class="st"> </span>In <span class="kw"><a href="https://rdrr.io/r/base/connections.html">file</a></span>(con, <span class="st">"r"</span>) <span class="op">:</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="st">  </span>cannot open file <span class="st">'C:...</span><span class="ch">\f</span><span class="st">ile2b4463c21577'</span><span class="op">:</span><span class="st"> </span>Permission denied</a></code></pre></div>
</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#install-conda">Install Conda</a></li>
      <li><a href="#install-the-azuremlsdk-r-package">Install the <strong>azuremlsdk</strong> R package</a></li>
      <li><a href="#install-the-azure-ml-python-sdk">Install the Azure ML Python SDK</a></li>
      <li><a href="#test-installation">Test installation</a></li>
      <li><a href="#troubleshooting">Troubleshooting</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Diondra Peck, Minna Xiao, Microsoft.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
