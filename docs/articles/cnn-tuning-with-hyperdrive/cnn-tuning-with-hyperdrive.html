<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hyperparameter Tuning a Keras Model with HyperDrive • azureml</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Hyperparameter Tuning a Keras Model with HyperDrive">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">azureml</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/cnn-tuning-with-hyperdrive/cnn-tuning-with-hyperdrive.html">Hyperparameter Tuning a Keras Model with HyperDrive</a>
    </li>
    <li>
      <a href="../../articles/installation.html">Installing AzureML SDK for R</a>
    </li>
    <li>
      <a href="../../articles/train-with-tensorflow/train-with-tensorflow.html">Training a TensorFlow Model on MNIST</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/azure/azureml-sdk-for-r">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Hyperparameter Tuning a Keras Model with HyperDrive</h1>
            
            <h4 class="date">2019-10-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/azure/azureml-sdk-for-r/blob/master/vignettes/cnn-tuning-with-hyperdrive/cnn-tuning-with-hyperdrive.Rmd"><code>vignettes/cnn-tuning-with-hyperdrive/cnn-tuning-with-hyperdrive.Rmd</code></a></small>
      <div class="hidden name"><code>cnn-tuning-with-hyperdrive.Rmd</code></div>

    </div>

    
    
<p>This article demonstrates how you can efficiently tune hyperparameters for a model using AzureML SDK for R. We will train a Keras model on the CIFAR10 dataset, automate hyperparameter exploration, launch parallel jobs, log our results, and find the best run using AzureML’s HyperDrive service.</p>
<div id="what-are-hyperparameters" class="section level3">
<h3 class="hasAnchor">
<a href="#what-are-hyperparameters" class="anchor"></a>What are hyperparameters?</h3>
<p>Hyperparameters are variable parameters chosen to train a model. Learning rate, number of epochs, and batch size are all examples of hyperparameters.</p>
<p>Using brute-force methods to find the optimal values for parameters can be time-consuming, and poor-performing runs can result in wasted money. To avoid this, HyperDrive automates hyperparameter exploration in a time-saving and cost-effective manner by launching several parallel runs with different configurations and finding the configuration that results in best performance on your primary metric.</p>
<p>Let’s get started with the example to see how it works!</p>
</div>
<div id="set-up-the-experiment" class="section level2">
<h2 class="hasAnchor">
<a href="#set-up-the-experiment" class="anchor"></a>1. Set up the experiment</h2>
<p>First, we will prepare for training by loading the required package, initializing a workspace, and creating an experiment.</p>
<div id="import-package" class="section level3">
<h3 class="hasAnchor">
<a href="#import-package" class="anchor"></a>Import package</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"azureml"</span>)</a></code></pre></div>
</div>
<div id="initialize-a-workspace" class="section level3">
<h3 class="hasAnchor">
<a href="#initialize-a-workspace" class="anchor"></a>Initialize a workspace</h3>
<p>The <code>Workspace</code> is the top-level resource for the service. It provides us with a centralized place to work with all the artifacts we will create.</p>
<p>You can create a <code>Workspace</code> object from a local <code>config.json</code> file</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">ws &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/load_workspace_from_config.html">load_workspace_from_config</a></span>()</a></code></pre></div>
<p>Or load an existing workspace from your Azure Machine Learning account</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">ws &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/get_workspace.html">get_workspace</a></span>(<span class="st">"&lt;your workspace name&gt;"</span>, <span class="st">"&lt;your subscription ID&gt;"</span>, <span class="st">"&lt;your resource group&gt;"</span>)</a></code></pre></div>
</div>
<div id="create-a-deep-learning-experiment" class="section level3">
<h3 class="hasAnchor">
<a href="#create-a-deep-learning-experiment" class="anchor"></a>Create a deep learning experiment</h3>
<p>For this example, we will create an experiment named “hyperdrive-cifar10”.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">exp &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/experiment.html">experiment</a></span>(<span class="dt">workspace =</span> ws, <span class="dt">name =</span> <span class="st">'hyperdrive-cifar10'</span>)</a></code></pre></div>
</div>
</div>
<div id="create-a-compute-target" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-compute-target" class="anchor"></a>2. Create a compute target</h2>
<p>Now, we will create a compute target for our job to run on. In this example, we are creating a GPU-enabled compute cluster.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">cluster_name &lt;-<span class="st"> "rcluster"</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">compute_target &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/get_compute.html">get_compute</a></span>(ws, <span class="dt">cluster_name =</span> cluster_name)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="cf">if</span> (<span class="kw"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span>(compute_target))</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">{</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  vm_size &lt;-<span class="st"> "STANDARD_NC6"</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  compute_target &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/create_aml_compute.html">create_aml_compute</a></span>(<span class="dt">workspace =</span> ws, <span class="dt">cluster_name =</span> cluster_name,</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">                                       <span class="dt">vm_size =</span> vm_size, <span class="dt">max_nodes =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="kw"><a href="../../reference/wait_for_provisioning_completion.html">wait_for_provisioning_completion</a></span>(compute_target)</a></code></pre></div>
</div>
<div id="prepare-training-script" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-training-script" class="anchor"></a>3. Prepare training script</h2>
<p>In order to collect and upload run metrics, we need to import the <code>azureml</code> package at the top of our training script, <a href="cifar10_cnn.R">“cifar10_cnn.R”</a>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"azureml"</span>)</a></code></pre></div>
<p>Then, we need to edit our script so that it can log our parameters. We will use the <code>log_metric_to_run</code> function to log our hyperparameters at the top of the script and to log our primary metric at the bottom of the script.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">current_run &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/get_current_run.html">get_current_run</a></span>()</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">...</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw"><a href="../../reference/log_metric_to_run.html">log_metric_to_run</a></span>(<span class="st">"batch_size"</span>, batch_size, current_run)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">...</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="kw"><a href="../../reference/log_metric_to_run.html">log_metric_to_run</a></span>(<span class="st">"epochs"</span>, epochs, current_run)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">...</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="kw"><a href="../../reference/log_metric_to_run.html">log_metric_to_run</a></span>(<span class="st">"lr"</span>, lr, current_run)</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">...</a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="kw"><a href="../../reference/log_metric_to_run.html">log_metric_to_run</a></span>(<span class="st">"decay"</span>, decay, current_run)</a></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../../reference/log_metric_to_run.html">log_metric_to_run</a></span>(<span class="st">"Loss"</span>, results[[<span class="dv">1</span>]], current_run)</a></code></pre></div>
</div>
<div id="create-an-estimator" class="section level2">
<h2 class="hasAnchor">
<a href="#create-an-estimator" class="anchor"></a>4. Create an estimator</h2>
<p>An <code>Estimator</code> offers a simple way to launch a training job on a compute target.</p>
<p>Our training script will need the Keras package to run, and we can have it installed in the Docker container where our job will run by passing the package name via the <code>cran_packages</code> parameter.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">est &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/estimator.html">estimator</a></span>(<span class="dt">source_directory =</span> <span class="st">"."</span>, <span class="dt">entry_script =</span> <span class="st">"cifar10_cnn.R"</span>,</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">                 <span class="dt">compute_target =</span> compute_target, <span class="dt">cran_packages =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"keras"</span>))</a></code></pre></div>
</div>
<div id="set-hyperdrive-configuration" class="section level2">
<h2 class="hasAnchor">
<a href="#set-hyperdrive-configuration" class="anchor"></a>5. Set HyperDrive configuration</h2>
<div id="define-search-space" class="section level3">
<h3 class="hasAnchor">
<a href="#define-search-space" class="anchor"></a>Define search space</h3>
<p>In this experiment, we will use four hyperparameters: batch size, number of epochs, learning rate, and decay. In order to begin tuning, we must define the range of values we would like to pull from and how they will be distributed. This is called a parameter space definition and can be created with discrete or continuous ranges.</p>
<p><strong>Discrete hyperparameters</strong> are specified as a choice among discrete values represented as a list.</p>
<p>Advanced discrete hyperparameters can also be specified using a distribution. The following distributions are supported:</p>
<ul>
<li><code><a href="../../reference/quniform.html">quniform(low, high, q)</a></code></li>
<li><code><a href="../../reference/qloguniform.html">qloguniform(low, high, q)</a></code></li>
<li><code><a href="../../reference/qnormal.html">qnormal(mu, sigma, q)</a></code></li>
<li><code><a href="../../reference/qlognormal.html">qlognormal(mu, sigma, q)</a></code></li>
</ul>
<p><strong>Continuous hyperparameters</strong> are specified as a distribution over a continuous range of values. The following distributions are supported:</p>
<ul>
<li><code><a href="../../reference/uniform.html">uniform(low, high)</a></code></li>
<li><code><a href="../../reference/loguniform.html">loguniform(low, high)</a></code></li>
<li><code><a href="../../reference/normal.html">normal(mu, sigma)</a></code></li>
<li><code><a href="../../reference/lognormal.html">lognormal(mu, sigma)</a></code></li>
</ul>
<p>Here, we will use the <code>random_parameter_sampling</code> function to define the search space for each hyperparameter. <code>batch_size</code> and <code>epochs</code> will be chosen from discrete sets while <code>lr</code> and <code>decay</code> will be drawn from continuous distributions.</p>
<p>Other sampling function options are:</p>
<ul>
<li><code><a href="../../reference/grid_parameter_sampling.html">grid_parameter_sampling(parameter_space)</a></code></li>
<li><code><a href="../../reference/bayesian_parameter_sampling.html">bayesian_parameter_sampling(parameter_space)</a></code></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">sampling &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/random_parameter_sampling.html">random_parameter_sampling</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">batch_size =</span> <span class="kw"><a href="../../reference/choice.html">choice</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">16</span>, <span class="dv">32</span>, <span class="dv">64</span>)),</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">                                           <span class="dt">epochs =</span> <span class="kw"><a href="../../reference/choice.html">choice</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">200</span>, <span class="dv">350</span>, <span class="dv">500</span>)),</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">                                           <span class="dt">lr =</span> <span class="kw"><a href="../../reference/normal.html">normal</a></span>(<span class="fl">0.0001</span>, <span class="fl">0.005</span>),</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">                                           <span class="dt">decay =</span> <span class="kw"><a href="../../reference/uniform.html">uniform</a></span>(<span class="fl">1e-6</span>, <span class="fl">3e-6</span>)))</a></code></pre></div>
</div>
<div id="define-termination-policy" class="section level3">
<h3 class="hasAnchor">
<a href="#define-termination-policy" class="anchor"></a>Define termination policy</h3>
<p>To prevent resource waste, we should detect and terminate poorly performing runs. HyperDrive will do this automatically if we set up an early termination policy.</p>
<p>Here, we will use the <code>bandit_policy</code> which terminates any runs where the primary metric is not within the specified slack factor with respect to the best performing training run.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">policy &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/bandit_policy.html">bandit_policy</a></span>(<span class="dt">slack_factor =</span> <span class="fl">0.15</span>)</a></code></pre></div>
<p>Other termination policy options are:</p>
<ul>
<li><code><a href="../../reference/median_stopping_policy.html">median_stopping_policy(evaluation_interval, delay_evaluation)</a></code></li>
<li><code><a href="../../reference/truncation_selection_policy.html">truncation_selection_policy(truncation_percentage, evaluation_interval, delay_evaluation)</a></code></li>
</ul>
<p>If no policy is provided, all runs will continue to completion regardless of performance.</p>
</div>
<div id="finalize-configuration" class="section level3">
<h3 class="hasAnchor">
<a href="#finalize-configuration" class="anchor"></a>Finalize configuration</h3>
<p>Now, we can create a <code>HyperDriveConfig</code> object to define our group of jobs. Along with our sampling and policy definitions, we need to specify the name of the primary metric that we want to track and whether we want to maximize it or minimize it.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">hyperdrive_config &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/hyperdrive_config.html">hyperdrive_config</a></span>(<span class="dt">hyperparameter_sampling =</span> sampling,</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">                                       <span class="kw"><a href="../../reference/primary_metric_goal.html">primary_metric_goal</a></span>(<span class="st">"MINIMIZE"</span>),</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">                                       <span class="dt">primary_metric_name =</span> <span class="st">"Loss"</span>,</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">                                       <span class="dt">max_total_runs =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">                                       <span class="dt">policy =</span> policy,</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">                                       <span class="dt">estimator =</span> est)</a></code></pre></div>
</div>
</div>
<div id="submit-hyperdrive-run" class="section level2">
<h2 class="hasAnchor">
<a href="#submit-hyperdrive-run" class="anchor"></a>6. Submit HyperDrive run</h2>
<p>Submitting our experiment will start multiple simultaneous runs and return a <code>HyperDriveRun</code> object that we will use to interface with the run history during and after the job.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">hyperdrive_run &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/submit_experiment.html">submit_experiment</a></span>(exp, hyperdrive_config)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw"><a href="../../reference/wait_for_run_completion.html">wait_for_run_completion</a></span>(hyperdrive_run, <span class="dt">show_output =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="analyse-runs-by-performance" class="section level2">
<h2 class="hasAnchor">
<a href="#analyse-runs-by-performance" class="anchor"></a>7. Analyse runs by performance</h2>
<p>Finally, we can view and compare the metrics collected during our all of our child runs!</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">child_run_metrics &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/get_child_run_metrics.html">get_child_run_metrics</a></span>(hyperdrive_run)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">child_run_metrics</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">child_runs &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/get_child_runs_sorted_by_primary_metric.html">get_child_runs_sorted_by_primary_metric</a></span>(hyperdrive_run)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">child_runs</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"></a>
<a class="sourceLine" id="cb14-7" data-line-number="7">best_run &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/get_best_run_by_primary_metric.html">get_best_run_by_primary_metric</a></span>(hyperdrive_run)</a>
<a class="sourceLine" id="cb14-8" data-line-number="8"></a>
<a class="sourceLine" id="cb14-9" data-line-number="9">metrics &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/get_run_metrics.html">get_run_metrics</a></span>(best_run)</a>
<a class="sourceLine" id="cb14-10" data-line-number="10">metrics</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#set-up-the-experiment">1. Set up the experiment</a></li>
      <li><a href="#create-a-compute-target">2. Create a compute target</a></li>
      <li><a href="#prepare-training-script">3. Prepare training script</a></li>
      <li><a href="#create-an-estimator">4. Create an estimator</a></li>
      <li><a href="#set-hyperdrive-configuration">5. Set HyperDrive configuration</a></li>
      <li><a href="#submit-hyperdrive-run">6. Submit HyperDrive run</a></li>
      <li><a href="#analyse-runs-by-performance">7. Analyse runs by performance</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Himanshu Chandola, Billy Hu, Heemanshu Suri, Diondra Peck, Microsoft.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
