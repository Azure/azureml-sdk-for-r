<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Troubleshooting • azuremlsdk</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Troubleshooting">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">azuremlsdk</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.85</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/installation.html">Install the Azure ML SDK for R</a>
    </li>
    <li>
      <a href="../../articles/configuration.html">Set up an Azure ML workspace</a>
    </li>
    <li>
      <a href="../../articles/train-and-deploy-to-aci/train-and-deploy-to-aci.html">Train and deploy your first model with Azure ML</a>
    </li>
    <li>
      <a href="../../articles/train-with-tensorflow/train-with-tensorflow.html">Train a TensorFlow model</a>
    </li>
    <li>
      <a href="../../articles/hyperparameter-tune-with-keras/hyperparameter-tune-with-keras.html">Hyperparameter tune a Keras model</a>
    </li>
    <li>
      <a href="../../articles/deploy-to-aks/deploy-to-aks.html">Deploy a web service to Azure Kubernetes Service</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Guides</li>
    <li>
      <a href="../../articles/guides/deploying-models.html">Deploying models</a>
    </li>
    <li>
      <a href="../../articles/guides/troubleshooting.html">Troubleshooting</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/azure/azureml-sdk-for-r">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Troubleshooting</h1>
            
            <h4 class="date">2020-04-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/azure/azureml-sdk-for-r/blob/master/vignettes/guides/troubleshooting.Rmd"><code>vignettes/guides/troubleshooting.Rmd</code></a></small>
      <div class="hidden name"><code>troubleshooting.Rmd</code></div>

    </div>

    
    
<p>This guide covers known issues and troubleshooting for using R in Azure Machine Learning.</p>
<p>The list will continue to evolve as new issues are discovered and old ones are resolved.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>For issues with installing the <strong>azuremlsdk</strong> package, please refer to the <a href="https://azure.github.io/azureml-sdk-for-r/articles/installation.html#troubleshooting">troubleshooting</a> section of the installation guide.</p>
</div>
<div id="compute-instance" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-instance" class="anchor"></a>Compute instance</h2>
<p>The following address issues when developing in R on a <a href="https://docs.microsoft.com/azure/machine-learning/concept-compute-instance">Compute instance</a> using RStudio or Jupyter.</p>
<div id="older-version-of-azuremlsdk" class="section level3">
<h3 class="hasAnchor">
<a href="#older-version-of-azuremlsdk" class="anchor"></a>Older version of azuremlsdk</h3>
<p>There will usually be a lag in between the latest release of the <strong>azuremlsdk</strong> package to CRAN and when the package version is updated on the compute instance. You can determine what version of the SDK you have by running <code><a href="https://rdrr.io/r/utils/packageDescription.html">packageVersion("azuremlsdk")</a></code>.</p>
<p>Right now, the latest version of the package on CRAN is 0.6.85, but the version on the compute instance is 0.5.7, which we are currently in the process of updating. Version 0.6.85 includes Azure ML Datasets functionality and several bug fixes, so if you need to access those immediately you can update the version yourself:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"azuremlsdk"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">azuremlsdk<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/azuremlsdk/man/install_azureml.html">install_azureml</a></span>(<span class="dt">envname =</span> <span class="st">'r-reticulate'</span>)</a></code></pre></div>
<p>If you are using version 0.5.7 and see some variation of the following error messages, you are likely running into a bug that is fixed with the 0.6.85 release, and you should follow the above guidance to update the SDK.</p>
<ul>
<li><code>Error: Python module azureml was not found.</code></li>
<li><code>AttributeError: module 'azureml' has no attribute 'core'</code></li>
</ul>
</div>
<div id="error-unable-to-install-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#error-unable-to-install-packages" class="anchor"></a>Error: “Unable to install packages”</h3>
<p>You may run into an error installing R packages from Jupyter using the R kernel, even though the same installation works from RStudio. The error will look as follows:</p>
<pre><code>Installing package into '/usr/local/lib/R/site-library' (as 'lib' is unspecified)

Warning message in install.packages(&lt;package name&gt;):
"'lib = "/usr/local/lib/R/site-library"' is not writable"</code></pre>
<p>The discrepancy is due to RStudio assuming a different default library location than the R kernel in Jupyter.</p>
<p>You can work around this by specifying a library location you have permission to such as the home directory “/home/azureuser/R”.</p>
<ol style="list-style-type: decimal">
<li>From your Jupyter notebook run:<br><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("&lt;package name&gt;", lib="/home/azureuser")</a></code>
</li>
<li>Then add a call to <code><a href="https://rdrr.io/r/base/libPaths.html">.libPaths()</a></code> at the beginning of your notebook to tell Jupyter where your packages are:<br><code><a href="https://rdrr.io/r/base/libPaths.html">.libPaths("/home/azureuser/R")</a></code>
</li>
</ol>
<p>An alternative is to give yourself access to the default folder by running a <code>chmod</code> or <code>chown</code> command from the terminal.</p>
</div>
</div>
<div id="training" class="section level2">
<h2 class="hasAnchor">
<a href="#training" class="anchor"></a>Training</h2>
<div id="permissionerror-when-submitting-an-experiment-in-rstudio" class="section level3">
<h3 class="hasAnchor">
<a href="#permissionerror-when-submitting-an-experiment-in-rstudio" class="anchor"></a>“PermissionError” when submitting an experiment in RStudio</h3>
<p>If the following error occurs when submitting an experiment using RStudio:</p>
<pre><code>Error in py_call_impl(callable, dots$args, dots$keywords) : 
 PermissionError: [Errno 13] Permission denied</code></pre>
<p>Move the files for your project into a subdirectory and reset the working directory to that directory before re-submitting.</p>
<p>In order to submit an experiment, the Azure ML SDK must create a .zip file of the project directory to send to the service. However, the SDK does not have permission to write into the .Rproj.user subdirectory that is automatically created during an RStudio session. For this reason, the recommended best practice is to isolate project files into their own directory.</p>
</div>
</div>
<div id="deployment" class="section level2">
<h2 class="hasAnchor">
<a href="#deployment" class="anchor"></a>Deployment</h2>
<p>For information on troubleshooting web service deployment issues, see the “Troubleshooting section” of the <a href="https://azure.github.io/azureml-sdk-for-r/articles/guides/deploying-models.html#troubleshooting-deployment">Deploying models</a> guide.</p>
</div>
<div id="resource-quotas" class="section level2">
<h2 class="hasAnchor">
<a href="#resource-quotas" class="anchor"></a>Resource quotas</h2>
<p>You may hit resource quota issues, such as the error below:</p>
<pre><code>Operation could not be completed as it results in exceeding approved Total Regional Cores quota.</code></pre>
<p>For information on quotas, see <a href="https://docs.microsoft.com/azure/machine-learning/how-to-manage-quotas">Manage and request quotas for Azure resources</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#compute-instance">Compute instance</a></li>
      <li><a href="#training">Training</a></li>
      <li><a href="#deployment">Deployment</a></li>
      <li><a href="#resource-quotas">Resource quotas</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Heemanshu Suri, Billy Hu, Diondra Peck, Minna Xiao, Microsoft.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
